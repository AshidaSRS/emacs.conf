package utils

import com.typesafe.config.{Config, ConfigFactory}

/** Database model generator for Slick library */
object NutshellTablesGenerator extends App {
  val configDB: Config = ConfigFactory.load().getConfig("db.mysql")

  def generate(): Unit =
    slick.codegen.SourceCodeGenerator.run(
      slickDriver = configDB.getString("slick.driver"),
      jdbcDriver = configDB.getString("driver"),
      url = configDB.getString("url"),
      user = Option(configDB.getString("user")),
      password = Option(configDB.getString("password")),
      outputDir = "src/main/scala",
      pkg = "com.gennion.nutshell.utils"
    )

  generate
}
